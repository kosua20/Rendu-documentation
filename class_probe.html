<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rendu: Probe Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Rendu
   </div>
   <div id="projectbrief">A lightweight rendering engine for experimentations</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_probe-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Probe Class Reference<div class="ingroups"><a class="el" href="group___renderers.html">Renderers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A probe can be used to capture the appareance of a scene at a given location as a 360° cubemap.  
 <a href="class_probe.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_probe_8hpp_source.html">Probe.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab2d19839f75b071dd1ca35ff27afa294"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#ab2d19839f75b071dd1ca35ff27afa294">Probe</a> (const glm::vec3 &amp;<a class="el" href="class_probe.html#a8d8fdab26f0c37bc847a3f446b7dd376">position</a>, std::shared_ptr&lt; <a class="el" href="class_renderer.html">Renderer</a> &gt; renderer, uint size, uint mips, const glm::vec2 &amp;clippingPlanes)</td></tr>
<tr class="separator:ab2d19839f75b071dd1ca35ff27afa294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1732d34c1e5b02e12b7ec405d144190f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#a1732d34c1e5b02e12b7ec405d144190f">draw</a> ()</td></tr>
<tr class="separator:a1732d34c1e5b02e12b7ec405d144190f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b9abe0b2172506e031b37d7b61487d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#a83b9abe0b2172506e031b37d7b61487d">convolveRadiance</a> (float clamp, uint first, uint count)</td></tr>
<tr class="separator:a83b9abe0b2172506e031b37d7b61487d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9b129a7ddf15f810b38358a67bf768"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#a6f9b129a7ddf15f810b38358a67bf768">estimateIrradiance</a> (float clamp)</td></tr>
<tr class="separator:a6f9b129a7ddf15f810b38358a67bf768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f3d64199caf7c16792e5f68a48a9494"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_texture.html">Texture</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#a3f3d64199caf7c16792e5f68a48a9494">texture</a> () const</td></tr>
<tr class="separator:a3f3d64199caf7c16792e5f68a48a9494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefaf971a707aaf37bdd4b1dd61125d01"><td class="memItemLeft" align="right" valign="top">const std::shared_ptr&lt; <a class="el" href="class_uniform_buffer.html">UniformBuffer</a>&lt; glm::vec4 &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#aefaf971a707aaf37bdd4b1dd61125d01">shCoeffs</a> () const</td></tr>
<tr class="separator:aefaf971a707aaf37bdd4b1dd61125d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8fdab26f0c37bc847a3f446b7dd376"><td class="memItemLeft" align="right" valign="top">const glm::vec3 &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#a8d8fdab26f0c37bc847a3f446b7dd376">position</a> () const</td></tr>
<tr class="separator:a8d8fdab26f0c37bc847a3f446b7dd376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7823436d27cab402bc7e8d6783b5a54c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_probe.html">Probe</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#a7823436d27cab402bc7e8d6783b5a54c">operator=</a> (const <a class="el" href="class_probe.html">Probe</a> &amp;)=delete</td></tr>
<tr class="separator:a7823436d27cab402bc7e8d6783b5a54c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866cf071fca531d4c0b3f0d8bfabe9e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#a866cf071fca531d4c0b3f0d8bfabe9e4">Probe</a> (const <a class="el" href="class_probe.html">Probe</a> &amp;)=delete</td></tr>
<tr class="separator:a866cf071fca531d4c0b3f0d8bfabe9e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac78fa4d02010b20fdc50efbd0ca36070"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_probe.html">Probe</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#ac78fa4d02010b20fdc50efbd0ca36070">operator=</a> (<a class="el" href="class_probe.html">Probe</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:ac78fa4d02010b20fdc50efbd0ca36070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cbb1199bf7b5cf34701620124229e45"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#a5cbb1199bf7b5cf34701620124229e45">Probe</a> (<a class="el" href="class_probe.html">Probe</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a5cbb1199bf7b5cf34701620124229e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a06b63735d84823f528f7808f855c3838"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#a06b63735d84823f528f7808f855c3838">extractIrradianceSHCoeffs</a> (const <a class="el" href="class_texture.html">Texture</a> &amp;cubemap, float clamp, std::vector&lt; glm::vec3 &gt; &amp;<a class="el" href="class_probe.html#aefaf971a707aaf37bdd4b1dd61125d01">shCoeffs</a>)</td></tr>
<tr class="memdesc:a06b63735d84823f528f7808f855c3838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decompose an existing cubemap irradiance onto the nine first elements of the spherical harmonic basis.  <a href="class_probe.html#a06b63735d84823f528f7808f855c3838">More...</a><br /></td></tr>
<tr class="separator:a06b63735d84823f528f7808f855c3838"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:afa175f407cd1aafb5253839dc0c8d0fd"><td class="memItemLeft" align="right" valign="top"><a id="afa175f407cd1aafb5253839dc0c8d0fd"></a>
std::unique_ptr&lt; <a class="el" href="class_framebuffer.html">Framebuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#afa175f407cd1aafb5253839dc0c8d0fd">_framebuffer</a></td></tr>
<tr class="memdesc:afa175f407cd1aafb5253839dc0c8d0fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cubemap content. <br /></td></tr>
<tr class="separator:afa175f407cd1aafb5253839dc0c8d0fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b7ce299495b6d1ebeeef1ecf047389"><td class="memItemLeft" align="right" valign="top"><a id="ad9b7ce299495b6d1ebeeef1ecf047389"></a>
std::shared_ptr&lt; <a class="el" href="class_renderer.html">Renderer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#ad9b7ce299495b6d1ebeeef1ecf047389">_renderer</a></td></tr>
<tr class="memdesc:ad9b7ce299495b6d1ebeeef1ecf047389"><td class="mdescLeft">&#160;</td><td class="mdescRight">The renderer to use. <br /></td></tr>
<tr class="separator:ad9b7ce299495b6d1ebeeef1ecf047389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa96754e82dc8f7ddd233521f50bb6a1"><td class="memItemLeft" align="right" valign="top"><a id="aaa96754e82dc8f7ddd233521f50bb6a1"></a>
std::unique_ptr&lt; <a class="el" href="class_framebuffer.html">Framebuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#aaa96754e82dc8f7ddd233521f50bb6a1">_copy</a></td></tr>
<tr class="memdesc:aaa96754e82dc8f7ddd233521f50bb6a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downscaled copy of the cubemap content. <br /></td></tr>
<tr class="separator:aaa96754e82dc8f7ddd233521f50bb6a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9230d69f2fb2f635a4fef3cedc88b26a"><td class="memItemLeft" align="right" valign="top"><a id="a9230d69f2fb2f635a4fef3cedc88b26a"></a>
std::shared_ptr&lt; <a class="el" href="class_uniform_buffer.html">UniformBuffer</a>&lt; glm::vec4 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#a9230d69f2fb2f635a4fef3cedc88b26a">_shCoeffs</a></td></tr>
<tr class="memdesc:a9230d69f2fb2f635a4fef3cedc88b26a"><td class="mdescLeft">&#160;</td><td class="mdescRight">SH representation of the cubemap irradiance. <br /></td></tr>
<tr class="separator:a9230d69f2fb2f635a4fef3cedc88b26a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa023fafbebe29047832fa25c49917d5f"><td class="memItemLeft" align="right" valign="top"><a id="aa023fafbebe29047832fa25c49917d5f"></a>
std::array&lt; <a class="el" href="class_camera.html">Camera</a>, 6 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#aa023fafbebe29047832fa25c49917d5f">_cameras</a></td></tr>
<tr class="memdesc:aa023fafbebe29047832fa25c49917d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_camera.html" title="This class represents a camera as used in real-time rendering APIs. It provides a view and projection...">Camera</a> for each face. <br /></td></tr>
<tr class="separator:aa023fafbebe29047832fa25c49917d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a801cce22febac018fe14e4ae313c33f0"><td class="memItemLeft" align="right" valign="top"><a id="a801cce22febac018fe14e4ae313c33f0"></a>
glm::vec3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#a801cce22febac018fe14e4ae313c33f0">_position</a></td></tr>
<tr class="memdesc:a801cce22febac018fe14e4ae313c33f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The probe location. <br /></td></tr>
<tr class="separator:a801cce22febac018fe14e4ae313c33f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c8172317135e910c358a1f17346a461"><td class="memItemLeft" align="right" valign="top"><a id="a2c8172317135e910c358a1f17346a461"></a>
<a class="el" href="class_program.html">Program</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#a2c8172317135e910c358a1f17346a461">_integration</a></td></tr>
<tr class="memdesc:a2c8172317135e910c358a1f17346a461"><td class="mdescLeft">&#160;</td><td class="mdescRight">Radiance preconvolution shader. <br /></td></tr>
<tr class="separator:a2c8172317135e910c358a1f17346a461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8d0d5e133b5ed8433fa6e8949a5af2"><td class="memItemLeft" align="right" valign="top"><a id="aac8d0d5e133b5ed8433fa6e8949a5af2"></a>
GPUAsyncTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#aac8d0d5e133b5ed8433fa6e8949a5af2">_downloadTask</a> = 0</td></tr>
<tr class="memdesc:aac8d0d5e133b5ed8433fa6e8949a5af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current probe download task (for SH computations on the CPU). <br /></td></tr>
<tr class="separator:aac8d0d5e133b5ed8433fa6e8949a5af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a2cf178e2898fd5cb4de8f6c0679c0"><td class="memItemLeft" align="right" valign="top"><a id="ab8a2cf178e2898fd5cb4de8f6c0679c0"></a>
const <a class="el" href="class_mesh.html">Mesh</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_probe.html#ab8a2cf178e2898fd5cb4de8f6c0679c0">_cube</a></td></tr>
<tr class="memdesc:ab8a2cf178e2898fd5cb4de8f6c0679c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Skybox cube. <br /></td></tr>
<tr class="separator:ab8a2cf178e2898fd5cb4de8f6c0679c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A probe can be used to capture the appareance of a scene at a given location as a 360° cubemap. </p>
<p>This is often used to render realistic real-time reflections and global illumination effects. It is recommended to split the rendering, radiance precomputation for GGX shading and irradiance SH decomposition over multiple frames as those steps are costly. Additional synchronization constraints are described for each function below. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab2d19839f75b071dd1ca35ff27afa294"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2d19839f75b071dd1ca35ff27afa294">&#9670;&nbsp;</a></span>Probe() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Probe::Probe </td>
          <td>(</td>
          <td class="paramtype">const glm::vec3 &amp;&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="class_renderer.html">Renderer</a> &gt;&#160;</td>
          <td class="paramname"><em>renderer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>mips</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const glm::vec2 &amp;&#160;</td>
          <td class="paramname"><em>clippingPlanes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>the probe position in the scene </td></tr>
    <tr><td class="paramname">renderer</td><td>the renderer to use to fill the cubemap </td></tr>
    <tr><td class="paramname">size</td><td>the dimensions of the cubemap </td></tr>
    <tr><td class="paramname">mips</td><td>the number of mip levels of the cubemap </td></tr>
    <tr><td class="paramname">clippingPlanes</td><td>the near/far planes to use when rendering each face </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>If the renderer is using the output of the probe, be careful to not use the probe content in the last rendering step. </dd></dl>

</div>
</div>
<a id="a866cf071fca531d4c0b3f0d8bfabe9e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866cf071fca531d4c0b3f0d8bfabe9e4">&#9670;&nbsp;</a></span>Probe() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Probe::Probe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_probe.html">Probe</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy constructor (disabled). </p>

</div>
</div>
<a id="a5cbb1199bf7b5cf34701620124229e45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cbb1199bf7b5cf34701620124229e45">&#9670;&nbsp;</a></span>Probe() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Probe::Probe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_probe.html">Probe</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Move constructor (disabled). </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a83b9abe0b2172506e031b37d7b61487d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b9abe0b2172506e031b37d7b61487d">&#9670;&nbsp;</a></span>convolveRadiance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Probe::convolveRadiance </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>clamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform BRDF pre-integration of the probe radiance for increasing roughness and store them in the mip levels. This also copies a downscaled version of the radiance for future SH computations. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clamp</td><td>maximum intensity value, useful to avoid ringing artifacts </td></tr>
    <tr><td class="paramname">first</td><td>first layer to process (in 1, mip count - 1) </td></tr>
    <tr><td class="paramname">count</td><td>the number of layers to process </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1732d34c1e5b02e12b7ec405d144190f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1732d34c1e5b02e12b7ec405d144190f">&#9670;&nbsp;</a></span>draw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Probe::draw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the content of the cubemap. </p>

</div>
</div>
<a id="a6f9b129a7ddf15f810b38358a67bf768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f9b129a7ddf15f810b38358a67bf768">&#9670;&nbsp;</a></span>estimateIrradiance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Probe::estimateIrradiance </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>clamp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Estimate the SH representation of the cubemap irradiance. The estimation is done on the CPU, and relies on downlaoding a (downscaled) copy of the cubemap content. For synchronization reasons, it is recommended to only update irradiance every other frame, and to trigger the copy (performed by prepareIrradiance) after the coeffs update. This will introduce a latency but will avoid any stalls. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clamp</td><td>maximum intensity value, useful to avoid temporal instabilities </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a06b63735d84823f528f7808f855c3838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06b63735d84823f528f7808f855c3838">&#9670;&nbsp;</a></span>extractIrradianceSHCoeffs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Probe::extractIrradianceSHCoeffs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_texture.html">Texture</a> &amp;&#160;</td>
          <td class="paramname"><em>cubemap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>clamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; glm::vec3 &gt; &amp;&#160;</td>
          <td class="paramname"><em>shCoeffs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decompose an existing cubemap irradiance onto the nine first elements of the spherical harmonic basis. </p>
<p>Perform approximated convolution as described in Ramamoorthi, Ravi, and Pat Hanrahan. "An efficient representation for irradiance environment maps.", Proceedings of the 28th annual conference on Computer graphics and interactive techniques. ACM, 2001. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cubemap</td><td>the cubemap to extract SH coefficients from </td></tr>
    <tr><td class="paramname">clamp</td><td>maximum intensity value, useful to avoid temporal instabilities </td></tr>
    <tr><td class="paramname">shCoeffs</td><td>will contain the irradiance SH representation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7823436d27cab402bc7e8d6783b5a54c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7823436d27cab402bc7e8d6783b5a54c">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_probe.html">Probe</a>&amp; Probe::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_probe.html">Probe</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy assignment operator (disabled). </p><dl class="section return"><dt>Returns</dt><dd>a reference to the object assigned to </dd></dl>

</div>
</div>
<a id="ac78fa4d02010b20fdc50efbd0ca36070"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac78fa4d02010b20fdc50efbd0ca36070">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_probe.html">Probe</a>&amp; Probe::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_probe.html">Probe</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Move assignment operator (disabled). </p><dl class="section return"><dt>Returns</dt><dd>a reference to the object assigned to </dd></dl>

</div>
</div>
<a id="a8d8fdab26f0c37bc847a3f446b7dd376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d8fdab26f0c37bc847a3f446b7dd376">&#9670;&nbsp;</a></span>position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const glm::vec3&amp; Probe::position </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the probe position </dd></dl>

</div>
</div>
<a id="aefaf971a707aaf37bdd4b1dd61125d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefaf971a707aaf37bdd4b1dd61125d01">&#9670;&nbsp;</a></span>shCoeffs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::shared_ptr&lt;<a class="el" href="class_uniform_buffer.html">UniformBuffer</a>&lt;glm::vec4&gt; &gt;&amp; Probe::shCoeffs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The cubemap irradiance SH representation, if estimateIrradiance has been called. </p><dl class="section return"><dt>Returns</dt><dd>the irradiance SH coefficients </dd></dl>

</div>
</div>
<a id="a3f3d64199caf7c16792e5f68a48a9494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f3d64199caf7c16792e5f68a48a9494">&#9670;&nbsp;</a></span>texture()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_texture.html">Texture</a>* Probe::texture </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The cubemap containing the rendering. Its mip levels will store the preconvolved radiance if convolveRadiance has been called </p><dl class="section return"><dt>Returns</dt><dd>the cubemap texture </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/engine/renderers/<a class="el" href="_probe_8hpp_source.html">Probe.hpp</a></li>
<li>src/engine/renderers/Probe.cpp</li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.9.1
 - Theme by <a href="http://simonrodriguez.fr">Simon Rodriguez</a></small></address><br>
</body>
</html>
